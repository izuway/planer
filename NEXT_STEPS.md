# üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞! ‚úÖ

–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –¢–µ–ø–µ—Ä—å –≤–∞–º –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–æ–≤ –¥–ª—è –∑–∞–ø—É—Å–∫–∞.

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É)

### ‚òê –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase (5 –º–∏–Ω—É—Ç)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Firebase Console](https://console.firebase.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication** ‚Üí **Sign-in method**
4. –í–∫–ª—é—á–∏—Ç–µ **Email/Password**
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Project Settings** (‚öôÔ∏è)
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤–∞—à–µ–≥–æ Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ß—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å:**
- API Key
- Auth Domain
- Project ID
- Storage Bucket
- Messaging Sender ID
- App ID

### ‚òê –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª (1 –º–∏–Ω—É—Ç–∞)

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
VITE_FIREBASE_API_KEY=AIza...
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=1:123456789:web:abc123
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∏–∑ –≤–∞—à–µ–≥–æ Firebase –ø—Ä–æ–µ–∫—Ç–∞!

### ‚òê –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ KV Namespace (2 –º–∏–Ω—É—Ç—ã)

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
npx wrangler kv:namespace create "PUBLIC_JWK_CACHE_KV"
```

–í—ã –ø–æ–ª—É—á–∏—Ç–µ –≤—ã–≤–æ–¥ —Ç–∏–ø–∞:

```
{ binding = "PUBLIC_JWK_CACHE_KV", id = "abc123def456" }
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID!**

### ‚òê –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç–µ `wrangler.jsonc` (1 –º–∏–Ω—É—Ç–∞)

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `wrangler.jsonc` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ:

1. **KV Namespace ID:**
   ```json
   "kv_namespaces": [
     {
       "binding": "PUBLIC_JWK_CACHE_KV",
       "id": "–í–°–¢–ê–í–¨–¢–ï_–°–ö–û–ü–ò–†–û–í–ê–ù–ù–´–ô_ID"
     }
   ]
   ```

2. **Firebase Project ID:**
   ```json
   "vars": {
     "FIREBASE_PROJECT_ID": "–≤–∞—à-project-id",
     ...
   }
   ```

### ‚òê –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Firebase Email Templates (2 –º–∏–Ω—É—Ç—ã)

1. –í Firebase Console –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication** ‚Üí **Templates**
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **Email address verification**
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —à–∞–±–ª–æ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. **–í–∞–∂–Ω–æ**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Action URL —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω:
   ```
   https://planer.m-k-mendykhan.workers.dev/
   ```

### ‚òê –®–∞–≥ 6: –î–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã (1 –º–∏–Ω—É—Ç–∞)

1. –í Firebase Console: **Authentication** ‚Üí **Settings** ‚Üí **Authorized domains**
2. –î–æ–±–∞–≤—å—Ç–µ:
   - `localhost` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
   - `planer.m-k-mendykhan.workers.dev` (–ø—Ä–æ–¥–∞–∫—à–Ω)

### ‚òê –®–∞–≥ 7: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç! (1 –º–∏–Ω—É—Ç–∞)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ http://localhost:5173

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:
- –ù–∞–∂–º–∏—Ç–µ "Sign up"
- –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)
- –ù–∞–∂–º–∏—Ç–µ "Sign Up"

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ email:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫
- –ù–∞–π–¥–∏—Ç–µ –ø–∏—Å—å–º–æ –æ—Ç Firebase
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 3. –í—Ö–æ–¥:
- –ü–æ—Å–ª–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞–∂–º–∏—Ç–µ "I've Verified My Email"
- –í—ã —É–≤–∏–¥–∏—Ç–µ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π:

- üìñ **README_AUTH.md** - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å —Ä–µ—à–µ–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º
- üöÄ **QUICK_START.md** - –∫—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- üíª **COMMANDS.md** - –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
- üìù **CHANGELOG_AUTH.md** - —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üöÄ –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

–ö–æ–≥–¥–∞ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
npm run deploy
```

–≠—Ç–æ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Cloudflare Workers.

---

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã?

### "Invalid token" –æ—à–∏–±–∫–∞:
‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `FIREBASE_PROJECT_ID` –≤ `wrangler.jsonc`  
‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `.env` —Ñ–∞–π–ª –∑–∞–ø–æ–ª–Ω–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ  
‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä  

### "Email not verified" –æ—à–∏–±–∫–∞:
‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É —Å–ø–∞–º –≤ –ø–æ—á—Ç–µ  
‚úÖ –ù–∞–∂–º–∏—Ç–µ "Resend Verification Email"  
‚úÖ –ü–æ—Å–ª–µ –∫–ª–∏–∫–∞ –Ω–∞ —Å—Å—ã–ª–∫—É –Ω–∞–∂–º–∏—Ç–µ "I've Verified My Email"  

### KV namespace –æ—à–∏–±–∫–∏:
‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –∫–æ–º–∞–Ω–¥—É —Å–æ–∑–¥–∞–Ω–∏—è KV  
‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ ID –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—Å—Ç–∞–≤–ª–µ–Ω –≤ `wrangler.jsonc`  

### CORS –æ—à–∏–±–∫–∏:
‚úÖ –î–æ–±–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω—ã –≤ Firebase authorized domains  
‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `worker/index.ts` (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)  

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç:
- ‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è email
- ‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ API endpoints
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

**–í—Ä–µ–º—è –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É: ~15 –º–∏–Ω—É—Ç**

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ü–æ–∑–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å:
- üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- üë§ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- üì± OAuth (Google, GitHub)
- üîí 2FA
- üë• –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

**–ù–∞—á–Ω–∏—Ç–µ —Å –®–∞–≥–∞ 1 –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!** üöÄ

–í—Å—è —Å–∏—Å—Ç–µ–º–∞ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Firebase –∏ KV namespace.

**–£–¥–∞—á–∏!** üéØ

